{{#content "style" mode="prepend"}}
<link rel="stylesheet" type="text/css" href="/assets/css/dataTables.bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/assets/css/select2.min.css">
<link rel="stylesheet" type="text/css" href="/assets/css/bootstrap-datetimepicker.min.css">
{{/content}}
<div class="page-wrapper">
	<div class="content container-fluid">
		<div class="row">
			{{#if success_message}}
			<div class="alert alert-success">
				<strong>Success! </strong>{{success_message}}
			</div>
			{{/if}}
			{{#if success_edit_message}}
			<div class="alert alert-success">
				<strong>Success! </strong>{{success_edit_message}}
			</div>
			{{/if}}
			<div class="col-sm-4 col-xs-3">
				<h4 class="page-title">Clients</h4>
			</div>
			<div class="col-sm-8 col-xs-9 text-right m-b-20">
				<a href="/client/add" class="btn btn-primary rounded pull-right"  ><i class="fa fa-plus"></i> Add Client</a>
			</div>
		</div>
		<div class="row filter-row">
			<form method="GET">
				<div class="col-sm-3 col-xs-6">  
					<div class="form-group form-focus select-focus">
						<label class="control-label">Client Type</label>
						{{!-- <input type="text" class="form-control floating" name="searchName" value="{{searchName}}"/> --}}
						<select class="select floating" name="searchName"> 
							<option value="">Select Client Type</option>
							<option value="I" {{#if_eq searchName "I" }} selected="selected" {{/if_eq}}>Individual</option>
							<option value="O" {{#if_eq searchName "O" }} selected="selected" {{/if_eq}}>Organisation</option>
						</select>
					</div>
				</div>
				<div class="col-sm-3 col-xs-6">  
					<div class="form-group form-focus">
						<label class="control-label">Client Email</label>
						<input type="text" class="form-control floating" name="searchEmail" value="{{searchMail}}"/>
					</div>
				</div>
				<div class="col-sm-3 col-xs-6"> 
					<input type="submit" value="Search" class="btn btn-success btn-block">
				</div>  
				<div class="col-sm-3 col-xs-6"> 
					<a href="/client" class="btn btn-success btn-block"> Clear </a>  
				</div>  
			</form>   
		</div>
		<div class="row">
			<div class="col-md-12">
				<div class="table-responsive">
					<table class="table table-striped custom-table datatable">
						<thead>
							<tr>
								<th>Name</th>
								<th>Client Type</th>
								<th>Email Id</th>
								<th>Mobile Number</th>
								<th class="text-right">Action</th>
							</tr>
						</thead>
						<tbody>
							{{#each clients}}
							<tr>
								<td>
									{{#if_eq client_type "O"}}
										{{this.organization_name}}
									{{/if_eq}}
									{{#if_eq client_type "I"}}
										{{this.first_name}} {{this.last_name}}
									{{/if_eq}}
								</td>
								<td>
									{{#if_eq client_type "O"}}
										Organization
									{{/if_eq}}
									{{#if_eq client_type "I"}}
										Individual
									{{/if_eq}}
								</td>
								<td>{{this.email}}</td>
								<td class="number_validator">{{this.mobile_no}}</td>
								<td class="text-right">
									<div class="dropdown">
										<a href="#" class="action-icon dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fa fa-ellipsis-v"></i></a>
										<ul class="dropdown-menu pull-right">
											<li><a href="/client/edit/{{this.id}}" ><i class="fa fa-pencil m-r-5"></i> Edit</a></li>
											<li><a href="javascript:void(0)" data-toggle="modal" data-target="#{{this.id}}"><i class="fa fa-trash-o m-r-5"></i> Delete</a></li>
										</ul>
									</div>
								</td>
							</tr>
							<div class="modal fade" id="{{this.id}}" role="dialog">
								<div class="modal-dialog">

									<!-- Modal content-->
									<div class="modal-content">

										<div class="modal-body">
											<p>Are you sure to delete ?</p>
										</div>
										<div class="modal-footer">
											<a href="/client/delete/{{this.id}}" class="btn btn-danger">Delete</a>
											<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
										</div>
									</div>

								</div>
							</div>

							{{/each}}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>
{{#content "script" mode="append"}}
<script type="text/javascript" src="/assets/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="/assets/js/dataTables.bootstrap.min.js"></script>
<script type="text/javascript" src="/assets/js/select2.min.js"></script>
<script type="text/javascript" src="/assets/js/moment.min.js"></script>
<script type="text/javascript" src="/assets/js/bootstrap-datetimepicker.min.js"></script>

{{/content}}