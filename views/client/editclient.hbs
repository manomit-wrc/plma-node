{{#content "style" mode="prepend"}}
<link rel="stylesheet" type="text/css" href="/assets/css/dataTables.bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/assets/css/select2.min.css">
<link rel="stylesheet" type="text/css" href="/assets/css/bootstrap-datetimepicker.min.css">
{{/content}}
<div class="page-wrapper">
                <div class="content container-fluid">
					<div class="row">
						{{#if error_message}}
					        <div class="alert alert-danger">
					            <strong>Error! </strong>{{error_message}}
					        </div>
					    {{/if}}
						<div class="col-sm-8">
							<h4 class="page-title">Edit Client</h4>
						</div>
					</div>
					<form id="clientform" method="POST" action="/client/editClient/{{client.id}}">
						<input type="hidden" name="_csrf" value="{{csrfToken}}">
						<input type="hidden" value="{{client.id}}" id="id" /> 
						<input type="radio" id="individual_client" name="client_type" value="I" {{#if_eq client.client_type "I"}} checked {{/if_eq}} disabled />Individual
						<input type="radio" id="organization_client" name="client_type" value="O" {{#if_eq client.client_type "O"}} checked {{/if_eq}} disabled />Organization
						<div class="card-box">
							<h3 class="card-title">Basic Informations</h3>
							<div class="row">
								<div class="col-md-12">
									{{!-- <div class="profile-img-wrap">
										<img class="inline-block" src="assets/img/user.jpg" alt="user">
										<div class="fileupload btn btn-default">
											<span class="btn-text">edit</span>
											<input class="upload" type="file">
										</div>
									</div> --}}
									<div class="profile-basic">
										<div class="row">
											<div id="org_type" {{#if_eq client.client_type "I"}} style="display:none;" {{/if_eq}}>
												<div class="col-md-12">
													<div class="form-group form-focus">
														<label class="control-label">Organisation Name</label>
														<input type="text" class="form-control floating" id="org_name" name="org_name" value="{{client.organization_name}}" />
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-group form-focus">
														<label class="control-label">Organisation ID</label>
														<input type="text" class="form-control floating" id="org_id" name="org_id" value="{{client.organization_id}}"/>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-group form-focus">
														<label class="control-label">Organisation Code </label>
														<input type="text" class="form-control floating" id="org_code" name="org_code" value="{{client.organization_code}}"/>
													</div>
												</div>
											</div>
											<div id="individual_type" {{#if_eq client.client_type "O"}} style="display:none;" {{/if_eq}}>
												<div class="col-md-6">
													<div class="form-group form-focus">
														<label class="control-label">First Name</label>
														<input type="text" class="form-control floating" id="edit_client_first_name" name="edit_client_first_name" value="{{client.first_name}}"/>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-group form-focus">
														<label class="control-label">Last Name</label>
														<input type="text" class="form-control floating" id="edit_client_last_name" name="edit_client_last_name" value="{{client.last_name}}"/>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-group form-focus">
														<label class="control-label">Client ID </label>
														<input type="text" class="form-control floating" id="client_id" name="client_id" value="{{client.client_id}}"/>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-group form-focus">
														<label class="control-label">Master ID </label>
														<input type="text" class="form-control floating" id="master_id" name="master_id" value="{{client.master_id}}"/>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-group form-focus">
														<label class="control-label">Birth Date</label>
														<div class="cal-icon">
															<input class="form-control floating datetimepicker"
															type="text" id="client_dob" name="client_dob" value="{{dateFormat client.date_of_birth "DD-MM-YYYY"}}" 
															>
														</div>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-group form-focus select-focus">
														<label class="control-label">Gender</label>
														<select class="select form-control floating" id="client_gender" name="client_gender">
															<option value="">Select Gender</option>
															<option value="M" {{#if_eq client.gender "M"}} selected {{/if_eq}}>Male</option>
															<option value="F" {{#if_eq client.gender "F"}} selected {{/if_eq}}>Female</option>
														</select>
													</div>
												</div>
												<div class="col-md-12">
													<div class="form-group form-focus">
														<label class="control-label">Client Company </label>
														<input type="text" class="form-control floating" id="client_company" name="client_company" value="{{client.client_company}}"/>
													</div>
												</div>
											</div>
											<div class="col-md-12">
												<div class="form-group form-focus">
													<label class="control-label">Email Id</label>
													<input type="text" class="form-control floating" id="email" name="email" value="{{client.email}}"/>
													<span id="uniqueEmail" style="color: red"><span>
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group form-focus select-focus">
													<label class="control-label">Mobile Number</label>
													<input type="text" class="form-control floating number_validator" id="mobile_no" name="mobile_no" value="{{client.mobile_no}}"/>
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group form-focus select-focus">
													<label class="control-label">Fax</label>
													<input type="text" class="form-control floating number_validator" id="fax" name="fax" value="{{client.fax}}"/>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="card-box">
							<h3 class="card-title">Contact Informations</h3>
							<div class="row">
								<div class="col-md-12">
									<div class="form-group form-focus">
										<label class="control-label">Address Line 1</label>
										<input type="text" class="form-control floating" id="address1" name="address1" value="{{client.address1}}"/>
									</div>
								</div>
                                <div class="col-md-12">
									<div class="form-group form-focus">
										<label class="control-label">Address Line 2</label>
										<input type="text" class="form-control floating" id="address2" name="address2" value="{{client.address2}}"/>
									</div>
								</div>
                                <div class="col-md-12">
									<div class="form-group form-focus">
										<label class="control-label">Address Line 3</label>
										<input type="text" class="form-control floating" id="address3" name="address3" value="{{client.address_line_3}}"/>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group form-focus select-focus">
										<label class="control-label">Country</label>
										<select id="country" name="country" class="form-control">
                                            {{#each country}}
                                            <option value="{{this.id}}">{{this.name}}</option>
											{{/each}}
                                        </select>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group form-focus select-focus">
										<label class="control-label ">State</label>
										<select id="state" name="state" class="form-control">
											<option value="">Select State</option>
                                            {{#each state}}
                                            <option value="{{this.id}}" {{#if_eq this.id ../client.state}} selected="selected" {{/if_eq}}>{{this.name}}</option>
											{{/each}}
                                        </select>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group form-focus select-focus">
										<label class="control-label ">City</label>
										 <select id="city" name="city" class="form-control">
										 	<option value="">Select City</option>
                                          {{#each city}}
                                            <option value="{{this.id}}" {{#if_eq this.id ../client.city}} selected="selected" {{/if_eq}}>{{this.name}}</option>
											{{/each}}    
                                        </select>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group form-focus select-focus">
										<label class=" control-label">Zipcode Code</label>
										<select id="zipcode" name="zipcode" class="form-control">
                                             <option value="">Select Zipcode</option>
                                          {{#each zipcode}}
                                            <option value="{{this.id}}" {{#if_eq this.id ../client.pin_code}} selected="selected" {{/if_eq}}>{{this.zip}}</option>
											{{/each}} 
                                        </select>
									</div>
								</div>
							</div>
						</div>
						<div class="card-box">
							<h3 class="card-title">Other Informations</h3>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group form-focus select-focus">
										<label class="control-label">Designation</label>
										<select id="designation" name="designation" class="select form-control">
											<option value="">Select Designation</option>
                                            {{#each designation}}
                                            <option value="{{this.id}}" {{#if_eq this.id ../client.designation_id}} selected="selected" {{/if_eq}}>{{this.code}}</option>
											{{/each}}
                                        </select>
									</div>
								</div>
								<div class="col-md-6">
										<div class="form-group form-focus">
											<label class="control-label">IM</label>
											<input type="text" class="form-control floating" id="im" name="im" value="{{client.IM}}"/>
										</div>
									</div>
								<div class="col-md-6">
									<div class="form-group form-focus select-focus">
										<label class="control-label">Comapnay Name</label>
										<input type="text" class="form-control floating" id="company_name" name="company_name" value="{{client.company_name}}"/>
									</div>
								</div>
								<div class="col-md-6">
										<div class="form-group form-focus">
											<label class="control-label">Social Security No</label>
											<input type="text" class="form-control floating number_validator" id="social_sec_no" name="social_sec_no" value="{{client.social_security_no}}"/>
										</div>
									</div>
								<div class="col-md-6">
									<div class="form-group form-focus select-focus">
										<label class="control-label">Twitter</label>
										<input type="text" class="form-control floating url_selector" id="twitter" name="twitter" value="{{client.twitter}}"/>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group form-focus select-focus">
										<label class="control-label">Linkdn</label>
										<input type="text" class="form-control floating url_selector" id="linkdn" name="linkdn" value="{{client.linkdn}}"/>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group form-focus select-focus">
										<label class="control-label">Facebook </label>
										<input type="text" class="form-control floating url_selector" id="facebook" name="facebook" value="{{client.facebook}}"/>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group form-focus select-focus">
										<label class="control-label">Google </label>
										<input type="text" class="form-control floating url_selector" id="google" name="google" value="{{client.google}}"/>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group form-focus select-focus">
										<label class="control-label">Association Status :</label>
										<select id="association" name="association" class="select form-control">
                                             
                                            <option value="NEW TARGET" {{#if_eq client.association_type "NEW TARGET"}} selected="selected" {{/if_eq}} >NEW TARGET</option>
											<option value="CONVERTED" {{#if_eq client.association_type "CONVERTED"}} selected="selected" {{/if_eq}}  >CONVERTED</option>
											<option value="TS-INTERIM" {{#if_eq client.association_type "TS-INTERIM"}} selected="selected" {{/if_eq}} >TS-INTERIM</option>
											 
										 
                                        </select>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group form-focus select-focus">
										<label class="control-label">Industry Type :</label>
										<select id="industry_type" name="industry_type" class="select form-control">
                                             {{#each industry}}
                                            <option value="{{this.id}}" {{#if_eq this.id ../client.industry_type}} selected="selected" {{/if_eq}}>{{this.code}}</option>
										 {{/each}}
                                        </select>
									</div>
								</div>
								<div class="col-md-12">
									<div class="form-group form-focus">
										<label class="control-label">Remarks </label>
										<textarea class="form-control floating" id="remarks" name="remarks" rows="5">{{client.remarks}}</textarea>
									</div>
		                        </div>
							</div>
							 
						</div>
						 
						<div class="text-center m-t-20">
							<button class="btn btn-primary btn-lg" type="submit" id="addclient">Save &amp; Update Client</button>
						</div>
					</form>
				</div>
			</div>
			 {{#content "script" mode="append"}}
<script type="text/javascript" src="/assets/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="/assets/js/dataTables.bootstrap.min.js"></script>
<script type="text/javascript" src="/assets/js/select2.min.js"></script>
<script type="text/javascript" src="/assets/js/moment.min.js"></script>
<script type="text/javascript" src="/assets/js/bootstrap-datetimepicker.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/additional-methods.min.js"></script>
<script type="text/javascript">
            $(document).ready(function(e) {
                $("#clientform").validate({
                    rules: {
                        first_name: {
                            required: true
                        },
                        last_name: {
                            required: true
                        },
                        org_name: {
							required: true
						},
						org_id: {
							required: true
						},
						org_code: {
							required: true
						},
						email: {
							required: true,
							email: true
						},
						mobile_no: {
							required: true
						},
						fax: {
                            required: true
                        },
						address1: {
							required: true
						},
						country: {
							required: true
						},
						state: {
							required: true
						},
						city: {
							required: true
						},
						zipcode: {
							required: true
						}
                    },
                    messages: {
                        first_name: {
                            required: "First Name can't be blank"
                        },
                        last_name: {
                            required: "Last name  title can't be blank"
                        },
                        org_name: {
							required: "Organisation Name can't be blank"
						},
						org_id: {
							required: "Organisation ID can't be blank"
						},
						org_code: {
							required: "Organisation code can't be blank"
						},
						email: {
							required: "Email id can't be blank",
							email: "Enter valid email id"
						},
						mobile_no: {
							required: "Mobile number can't blank"
						},
						fax: {
                            required: "Fax can't be blank"
                        },
						address1: {
							required: "Must provide address"
						},
						country: {
							required: "Choose your country"
						},
						state: {
							required: "Choose your state"
						},
						city: {
							required: "Choose your city"
						},
						zipcode: {
							required: "Choose your zipcode"
						}
                    }
                });

                  // add designation ajax operation and form validation ends

            });
            </script>
{{/content}}