{{#content "style" mode="prepend"}}
<link rel="stylesheet" type="text/css" href="/assets/css/bootstrap-multiselect.css">
<link rel="stylesheet" type="text/css" href="/assets/css/select2.min.css">
<link rel="stylesheet" type="text/css" href="/assets/css/bootstrap-datetimepicker.min.css"> {{/content}}

<div class="page-wrapper">
    <div class="content container-fluid">
        <div class="row">
            <div class="col-sm-8">
                <h4 class="page-title">Add Financial Goal</h4>
            </div>
        </div>
        {{#if error_message1}}
        <div class="alert alert-danger">
            <strong>Error! </strong>{{error_message1}}
        </div>
        {{/if}} {{#if error_message}}
        <div class="alert alert-danger">
            <strong>Error! </strong>{{error_message}}
        </div>
        {{/if}}
        <form id="frmAddFinancialGoal" method="POST" action="/financial-goal/add">
            <input type="hidden" name="_csrf" value="{{csrfToken}}">
            <div class="card-box">
                <div class="row">
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group form-focus select-focus">
                                    <label class="control-label">Select Attorney</label>
                                    <select class="select form-control floating" id="attr_id" name="attr_id">
                                        <option value="">Select Attorney</option>
                                        {{#each attorney}}
                                        <option value="{{this.id}}">{{this.first_name}} {{this.last_name}}</option>
                                        {{/each}}
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                               <div class="form-group form-focus select-focus">
                                    <label class="control-label">Select Current Year </label>
                                    <select class="select form-control floating" id="year" name="year">
                                        <option value="">Select Current Year</option>
                                        {{#each year}}
                                        <option value="{{this}}">{{this}}</option>
                                        {{/each}}
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group form-focus">
                                    <label class="control-label">Current Year Goal</label>
                                    <input type="text" class="form-control floating" id="year_goal" name="year_goal" />
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group form-focus">
                                    <label class="control-label">Current Year Goal %</label>
                                    <input type="text" class="form-control floating" id="year_goal_precentage" name="year_goal_precentage" />
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group form-focus">
                                    <label class="control-label">Summary Info</label>
                                    <textarea name="summary_info" id="summary_info" class="form-control floating"></textarea>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group form-focus">
                                    <label class="control-label">Remark/Comments</label>
                                    <textarea name="remarks" id="remarks" class="form-control floating"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-center m-t-20">
                <button class="btn btn-primary btn-lg" type="submit">Save &amp; create</button>
            </div>
        </form>
    </div>

</div>
{{#content "script" mode="append"}}
<script type="text/javascript" src="/assets/js/moment.min.js"></script>
<script type="text/javascript" src="/assets/js/select2.min.js"></script>
<script type="text/javascript" src="/assets/js/bootstrap-multiselect.js"></script>
<script type="text/javascript" src="/assets/js/bootstrap-datetimepicker.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/additional-methods.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#year_goal").inputmask("numeric", {
            radixPoint: ".",
            groupSeparator: ",",
            digits: 2,
            autoGroup: true,
            prefix: '$ ',
            rightAlign: false
        });
        $("#year_goal_precentage").inputmask("numeric", {
            radixPoint: ".",
            groupSeparator: ",",
            digits: 2,
            autoGroup: true,
            suffix: ' %',
            rightAlign: false
        });
        $("#frmAddFinancialGoal").validate({
            ignore: [],
            rules: {
                attr_id: {
                    required: true
                },
                year: {
                    required: true
                },
                year_goal: {
                    required: true
                },
                year_goal_precentage: {
                    required: true
                },
                summary_info: {
                    required: true
                },
                remarks: {
                    required: true
                }
            },
            messages: {
                attr_id: {
                    required: "Please select an attorney"
                },
                year: {
                    required: "Please select current year"
                },
                year_goal: {
                    required: "Current year goal can't be blank"
                },
                year_goal_precentage: {
                    required: "Current year goal percentage can't be blank"
                },
                summary_info: {
                    required: "Summary info can't be blank"
                },
                remarks: {
                    required: "Remarsks can't be blank"
                }
            }
        });
    });
</script> {{/content}}